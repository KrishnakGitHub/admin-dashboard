(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{31:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(6),a=n.n(r),o=(n(31),n(11)),i=n(4),l=n(19),d=n(20),j=n(10),u=n.n(j),h=n(12),b=n(9),O=n(15),m=n(3),x="https://dr-admin-dashboard.herokuapp.com",p=Object(c.createContext)(),f=p,v=function(e){var t=e.children,n=Object(c.useState)((function(){return localStorage.getItem("authTokens")?JSON.parse(localStorage.getItem("authTokens")):null})),s=Object(b.a)(n,2),r=s[0],a=s[1],o=Object(c.useState)((function(){return localStorage.getItem("authTokens")?Object(O.a)(localStorage.getItem("authTokens")):null})),l=Object(b.a)(o,2),d=l[0],j=l[1],f=Object(c.useState)(!0),v=Object(b.a)(f,2),g=v[0],w=v[1],y=Object(i.f)(),N=function(){var e=Object(h.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("".concat(x,"/api/token/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t.target.username.value,password:t.target.password.value})});case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,200===n.status?(a(c),j(Object(O.a)(c.access)),localStorage.setItem("authTokens",JSON.stringify(c)),y.push("/")):alert("Something went wrong!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){a(null),j(null),localStorage.removeItem("authTokens"),y.push("/login")},T=function(){var e=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/api/token/refresh/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh:null===r||void 0===r?void 0:r.refresh})});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,200===t.status?(a(n),j(Object(O.a)(n.access)),localStorage.setItem("authTokens",JSON.stringify(n))):S(),g&&w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I={user:d,authTokens:r,loginUser:N,logoutUser:S};return Object(c.useEffect)((function(){g&&T();var e=setInterval((function(){r&&T()}),24e4);return function(){return clearInterval(e)}}),[r,g]),Object(m.jsx)(p.Provider,{value:I,children:g?null:t})},g=["children"],w=function(e){var t=e.children,n=Object(d.a)(e,g),s=Object(c.useContext)(f).user;return Object(m.jsx)(i.b,Object(l.a)(Object(l.a)({},n),{},{children:s?t:Object(m.jsx)(i.a,{to:"/login"})}))},y=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],s=t[1],r=Object(c.useContext)(f),a=r.authTokens,o=r.logoutUser;Object(c.useEffect)((function(){i()}),[]);var i=function(){var e=Object(h.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://dr-admin-dashboard.herokuapp.com","/api/notes/"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+String(a.access)}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,200===t.status?s(n):"Unauthorized"===t.statusText&&o();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{children:"You are logged to the home page!"}),Object(m.jsx)("ul",{children:n.map((function(e){return Object(m.jsx)("li",{children:e.body},e.id)}))})]})},N=function(){var e=Object(c.useContext)(f).loginUser;return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"container-fluid p-0 pt-2 m-0 ",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"row py-5 align-items-center justify-content-center",children:Object(m.jsx)("div",{className:"col-lg-5 rounded shadow",children:Object(m.jsx)("div",{className:"card mt-4 border-0",children:Object(m.jsx)("div",{className:"card-body px-5",children:Object(m.jsxs)("div",{className:"mb-5",children:[Object(m.jsx)("p",{className:"text-center",children:"Dashboard LogIn"}),Object(m.jsxs)("form",{onSubmit:e,children:[Object(m.jsx)("div",{className:"row mt-2",children:Object(m.jsx)("input",{className:"form-control",type:"text",name:"username",placeholder:"Enter Username"})}),Object(m.jsx)("div",{className:"row mt-2",children:Object(m.jsx)("input",{className:"form-control",type:"password",name:"password",placeholder:"Enter Password"})}),Object(m.jsx)("div",{className:"row mt-2",children:Object(m.jsx)("input",{type:"submit",name:"Login"})})]})]})})})})})})})})},S=function(){var e=Object(c.useContext)(f);e.user,e.logoutUser;return Object(m.jsx)("div",{})},T=n(8);var I=function(e){var t=Object(c.useState)("1"),n=Object(b.a)(t,2),s=n[0],r=n[1];return Object(m.jsx)(T.e,{vertical:!0,children:Object(m.jsxs)(T.a,{open:s,toggle:function(e){s===e?r():r(e)},children:[Object(m.jsxs)(T.d,{children:[Object(m.jsxs)(T.c,{targetId:"1",children:[Object(m.jsx)("i",{class:"bi bi-house-door-fill"})," Dashboard"]}),Object(m.jsxs)(T.b,{accordionId:"1",children:[Object(m.jsx)("strong",{children:"This is the first item's accordion body."}),"You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the ",Object(m.jsx)("code",{children:".accordion-body"}),", though the transition does limit overflow."]})]}),Object(m.jsxs)(T.d,{children:[Object(m.jsxs)(T.c,{targetId:"2",children:[Object(m.jsx)("i",{class:"bi bi-lightning-fill"})," Project"]}),Object(m.jsxs)(T.b,{accordionId:"2",children:[Object(m.jsx)("strong",{children:"This is the second item's accordion body."}),"You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the ",Object(m.jsx)("code",{children:".accordion-body"}),", though the transition does limit overflow."]})]}),Object(m.jsxs)(T.d,{children:[Object(m.jsxs)(T.c,{targetId:"3",children:[Object(m.jsx)("i",{class:"bi bi-person-fill"})," Client"]}),Object(m.jsxs)(T.b,{accordionId:"3",children:[Object(m.jsx)("strong",{children:"This is the third item's accordion body."}),"You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the ",Object(m.jsx)("code",{children:".accordion-body"}),", though the transition does limit overflow."]})]})]})})},k=function(){return Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsxs)("div",{className:"row base",children:[Object(m.jsx)("div",{className:"sidebar col-3",children:Object(m.jsx)(I,{})}),Object(m.jsxs)("div",{className:"main col m-2 p-3",children:[Object(m.jsxs)("div",{className:"fw-bold",style:{fontSize:"1.525em"},children:[Object(m.jsx)("sapn",{children:Object(m.jsx)("i",{className:"bi bi-house-door-fill"})}),Object(m.jsx)("span",{className:"d-inline-block",children:Object(m.jsx)("h4",{children:" Dashboard"})})]}),Object(m.jsxs)("div",{className:"row total-row",children:[Object(m.jsx)("div",{className:"col m-2 p-3",children:"Total Projects"}),Object(m.jsx)("div",{className:"col m-2 p-3",children:"Pending Projects"}),Object(m.jsx)("div",{className:"col m-2 p-3",children:"Ongoing Projects"}),Object(m.jsx)("div",{className:"col m-2 p-3",children:"Completed Projects"})]})]})]})})})};var C=function(){return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(o.a,{children:Object(m.jsxs)(v,{children:[Object(m.jsx)(S,{}),Object(m.jsx)(w,{component:k,path:"/",exact:!0}),Object(m.jsx)(w,{component:y,path:"/home"}),Object(m.jsx)(i.b,{component:N,path:"/login"})]})})})};n(42),n(43),n(44);a.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.e1aecfb2.chunk.js.map