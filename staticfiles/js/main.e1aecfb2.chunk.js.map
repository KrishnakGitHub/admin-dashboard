{"version":3,"sources":["context/AuthContext.js","utils/PrivateRoute.js","pages/HomePage.js","pages/LoginPage.js","components/Header.js","components/Sidebar.js","pages/DashboardPage.js","App.js","index.js"],"names":["domain","AuthContext","createContext","AuthProvider","children","useState","localStorage","getItem","JSON","parse","authTokens","setAuthTokens","jwt_decode","user","setUser","loading","setLoading","history","useHistory","loginUser","e","a","preventDefault","fetch","method","headers","body","stringify","target","username","value","password","response","json","data","status","access","setItem","push","alert","logoutUser","removeItem","updateToken","refresh","contextData","useEffect","interval","setInterval","clearInterval","Provider","PrivateRoute","rest","useContext","to","HomePage","notes","setNotes","getNotes","String","statusText","map","note","id","LoginPage","className","onSubmit","type","name","placeholder","Header","Sidebar","props","open","setOpen","vertical","toggle","targetId","class","accordionId","DashboardPage","style","fontSize","App","component","path","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e1aecfb2.chunk.js","sourcesContent":["import { createContext, useState, useEffect } from 'react'\nimport jwt_decode from \"jwt-decode\";\nimport { useHistory } from 'react-router-dom'\n\n\nconst domain = 'https://dr-admin-dashboard.herokuapp.com'\n// const domain = 'https://8000-autumn-night-66818328.eu-ws4.runcode.io';\n\n\nconst AuthContext = createContext()\n\nexport default AuthContext;\n\n\nexport const AuthProvider = ({children}) => {\n    let [authTokens, setAuthTokens] = useState(()=> localStorage.getItem('authTokens') ? JSON.parse(localStorage.getItem('authTokens')) : null)\n    let [user, setUser] = useState(()=> localStorage.getItem('authTokens') ? jwt_decode(localStorage.getItem('authTokens')) : null)\n    let [loading, setLoading] = useState(true)\n\n    const history = useHistory()\n\n    let loginUser = async (e )=> {\n        e.preventDefault()\n        let response = await fetch(`${domain}/api/token/`, {\n            method:'POST',\n            headers:{\n                'Content-Type':'application/json'\n            },\n            body:JSON.stringify({'username':e.target.username.value, 'password':e.target.password.value})\n        })\n        let data = await response.json()\n\n        if(response.status === 200){\n            setAuthTokens(data)\n            setUser(jwt_decode(data.access))\n            localStorage.setItem('authTokens', JSON.stringify(data))\n            history.push('/')\n        }else{\n            alert('Something went wrong!')\n        }\n    }\n\n\n    let logoutUser = () => {\n        setAuthTokens(null)\n        setUser(null)\n        localStorage.removeItem('authTokens')\n        history.push('/login')\n    }\n\n\n    let updateToken = async ()=> {\n\n        let response = await fetch(`${domain}/api/token/refresh/`, {\n            method:'POST',\n            headers:{\n                'Content-Type':'application/json'\n            },\n            body:JSON.stringify({'refresh':authTokens?.refresh})\n        })\n\n        let data = await response.json()\n        \n        if (response.status === 200){\n            setAuthTokens(data)\n            setUser(jwt_decode(data.access))\n            localStorage.setItem('authTokens', JSON.stringify(data))\n        }else{\n            logoutUser()\n        }\n\n        if(loading){\n            setLoading(false)\n        }\n    }\n\n    let contextData = {\n        user:user,\n        authTokens:authTokens,\n        loginUser:loginUser,\n        logoutUser:logoutUser,\n    }\n\n\n    useEffect(()=> {\n\n        if(loading){\n            updateToken()\n        }\n\n        let fourMinutes = 1000 * 60 * 4\n\n        let interval =  setInterval(()=> {\n            if(authTokens){\n                updateToken()\n            }\n        }, fourMinutes)\n        return ()=> clearInterval(interval)\n\n    }, [authTokens, loading])\n\n    return(\n        <AuthContext.Provider value={contextData} >\n            {loading ? null : children}\n        </AuthContext.Provider>\n    )\n}\n","import { Route, Redirect } from 'react-router-dom'\nimport { useContext } from 'react'\nimport AuthContext from '../context/AuthContext'\n\nconst PrivateRoute = ({children, ...rest}) => {\n    let {user} = useContext(AuthContext)\n    return(\n        <Route {...rest}>{!user ? <Redirect to=\"/login\" /> :   children}</Route>\n    )\n}\n\nexport default PrivateRoute;","import React, {useState, useEffect, useContext} from 'react';\nimport AuthContext from '../context/AuthContext';\n\nconst domain = 'https://dr-admin-dashboard.herokuapp.com'\n// const domain = 'https://8000-autumn-night-66818328.eu-ws4.runcode.io';\n\nconst HomePage = () => {\n    let [notes, setNotes] = useState([])\n    let {authTokens, logoutUser} = useContext(AuthContext)\n\n    useEffect(()=> {\n        getNotes()\n    }, [])\n\n\n    let getNotes = async() =>{\n        let response = await fetch(`${domain}/api/notes/`, {\n            method:'GET',\n            headers:{\n                'Content-Type':'application/json',\n                'Authorization':'Bearer ' + String(authTokens.access)\n            }\n        })\n        let data = await response.json()\n\n        if(response.status === 200){\n            setNotes(data)\n        }else if(response.statusText === 'Unauthorized'){\n            logoutUser()\n        }\n        \n    }\n\n    return (\n        <div>\n            <p>You are logged to the home page!</p>\n\n\n            <ul>\n                {notes.map(note => (\n                    <li key={note.id} >{note.body}</li>\n                ))}\n            </ul>\n        </div>\n    )\n}\n\nexport default HomePage\n","import React, {useContext} from 'react'\nimport AuthContext from '../context/AuthContext'\n\nconst LoginPage = () => {\n    let {loginUser} = useContext(AuthContext)\n    return (\n        <div>\n            <div className=\"container-fluid p-0 pt-2 m-0 \">\n                <div className=\"container\">\n                <div className=\"row py-5 align-items-center justify-content-center\">\n                    <div className=\"col-lg-5 rounded shadow\">\n                    <div className=\"card mt-4 border-0\">\n                        <div className=\"card-body px-5\">\n                        <div className=\"mb-5\">\n                            <p className=\"text-center\">Dashboard LogIn</p>\n                            <form onSubmit={loginUser}>\n                                <div className='row mt-2'>\n                                    <input className='form-control' type=\"text\" name=\"username\" placeholder=\"Enter Username\" />\n                                </div>\n                                <div className='row mt-2'>\n                                        <input className='form-control' type=\"password\" name=\"password\" placeholder=\"Enter Password\" />\n                                </div>\n                                <div className='row mt-2'>\n                                        <input type=\"submit\" name='Login'/>\n                                </div>\n                            </form>\n                        </div>\n                        </div>\n                    </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginPage\n","import React, {useContext} from 'react'\nimport { Link } from 'react-router-dom'\nimport AuthContext from '../context/AuthContext'\n\nconst Header = () => {\n    let {user, logoutUser} = useContext(AuthContext)\n    return (\n        <div>\n            {/* <Link to=\"/\" >Home</Link>\n            <span> | </span>\n            {user ? (\n                 <p  onClick={logoutUser}>Logout</p>\n            ): (\n                <Link to=\"/login\" >Login</Link>\n            )}\n           \n            {user &&   <p>Hello {user.username}</p>} */}\n           \n        </div>\n    )\n}\n\nexport default Header\n","import React, { useState } from 'react';\nimport {\n  Nav,\n  Accordion,\n  AccordionBody,\n  AccordionHeader,\n  AccordionItem,\n} from 'reactstrap';\n\nfunction Sidebar(props) {\n  const [open, setOpen] = useState('1');\n  const toggle = (id) => {\n    if (open === id) {\n      setOpen();\n    } else {\n      setOpen(id);\n    }\n  };\n\n  return (\n    <Nav vertical>\n      <Accordion open={open} toggle={toggle}>\n        <AccordionItem>\n          <AccordionHeader targetId=\"1\"><i class=\"bi bi-house-door-fill\"></i> Dashboard</AccordionHeader>\n          <AccordionBody accordionId=\"1\">\n            <strong>This is the first item&#39;s accordion body.</strong>\n            You can modify any of this with custom CSS or overriding our default\n            variables. It&#39;s also worth noting that just about any HTML can\n            go within the <code>.accordion-body</code>, though the transition\n            does limit overflow.\n          </AccordionBody>\n        </AccordionItem>\n        <AccordionItem>\n          <AccordionHeader targetId=\"2\"><i class=\"bi bi-lightning-fill\"></i> Project</AccordionHeader>\n          <AccordionBody accordionId=\"2\">\n            <strong>This is the second item&#39;s accordion body.</strong>\n            You can modify any of this with custom CSS or overriding our default\n            variables. It&#39;s also worth noting that just about any HTML can\n            go within the <code>.accordion-body</code>, though the transition\n            does limit overflow.\n          </AccordionBody>\n        </AccordionItem>\n        <AccordionItem>\n          <AccordionHeader targetId=\"3\"><i class=\"bi bi-person-fill\"></i> Client</AccordionHeader>\n          <AccordionBody accordionId=\"3\">\n            <strong>This is the third item&#39;s accordion body.</strong>\n            You can modify any of this with custom CSS or overriding our default\n            variables. It&#39;s also worth noting that just about any HTML can\n            go within the <code>.accordion-body</code>, though the transition\n            does limit overflow.\n          </AccordionBody>\n        </AccordionItem>\n      </Accordion>\n    </Nav>\n  );\n}\n\nexport default Sidebar;","import React from 'react';\n\nimport Sidebar from '../components/Sidebar';\n\nconst DashboardPage = () => {\n  return (\n    <div>\n      <div className='container-fluid'>\n        <div className='row base'>\n          <div className='sidebar col-3'>\n            <Sidebar/>\n          </div>\n          <div className=\"main col m-2 p-3\">\n            <div className=\"fw-bold\" style={{fontSize: \"1.525em\"}}>\n              <sapn><i className=\"bi bi-house-door-fill\"></i></sapn>\n              <span className=\"d-inline-block\"><h4> Dashboard</h4></span>\n            </div>\n            <div className=\"row total-row\">\n              <div className=\"col m-2 p-3\">Total Projects</div>\n              <div className=\"col m-2 p-3\">Pending Projects</div>\n              <div className=\"col m-2 p-3\">Ongoing Projects</div>\n              <div className=\"col m-2 p-3\">Completed Projects</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default DashboardPage","import './App.css';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport PrivateRoute from './utils/PrivateRoute';\nimport { AuthProvider } from './context/AuthContext';\n\nimport HomePage from './pages/HomePage';\nimport LoginPage from './pages/LoginPage';\nimport Header from './components/Header';\nimport DashboardPage from './pages/DashboardPage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <AuthProvider>\n          <Header/>\n          <PrivateRoute component={DashboardPage} path=\"/\" exact/>\n          <PrivateRoute component={HomePage} path=\"/home\"/>\n          <Route component={LoginPage} path=\"/login\"/>\n        </AuthProvider>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport './bootstrap.min.css';\nimport '../node_modules/bootstrap-icons/font/bootstrap-icons.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}